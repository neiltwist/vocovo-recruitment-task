version: '3.1'

services:
  appliances:
    build: ./appliances
    container_name: appliances
    ports:
      - 8081:3000
    volumes:
      - ./appliances/src:/home/app/src
    command: npm run start
  auth:
    build: ./auth
    container_name: auth
    ports:
      - 8082:3000
    volumes:
      - ./auth/src:/home/app/src
    command: npm run start

  nginx:
    build: ./nginx
    container_name: nginx
    ports:
      - 8080:8080
    expose:
      - 8080
    links:
      - appliances
      - auth
